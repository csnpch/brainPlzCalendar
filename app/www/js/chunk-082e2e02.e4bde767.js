(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-082e2e02"],{"217d":function(t,e,n){"use strict";n.r(e);var a=n("7a23"),o={key:0,class:"w-11/12 sm:w-7/12 xl:w-4/12 mt-20"},i={class:"smoothShow w-full flex justify-center"},r={class:"w-11/12 sm:w-10/12 md:w-6/12 xl:w-4/12 flex flex-col justify-center gap-4 md:gap-6"},c={class:"h-min font_itim text-white bg-[#2C2C2C] p-6 rounded-2xl"},s={class:"mb-4 mx-2 -mt-1.5 flex flex-row justify-between items-end"},u=Object(a["j"])("p",{class:"tracking-wider text-lg"}," Paste code or URL invite. ",-1),l={key:0,class:"text-red-300"},d={class:"-mt-1 md:-mt-3 grid grid-cols-2 h-10 gap-3 font_itim text-white"},b=Object(a["j"])("button",{class:"w-full h-full font_baloo font-semibold tracking-wider bg-[#313964] hover:bg-[#2c3258] duration-200 rounded-xl text-sm"}," Create my invite ",-1);function f(t,e,n,f,j,p){var g=Object(a["G"])("AttendingJoin"),m=Object(a["G"])("NotFoundInvite"),O=Object(a["G"])("AttendingList"),h=Object(a["G"])("router-link"),v=Object(a["G"])("Layout"),x=Object(a["G"])("Toast");return Object(a["y"])(),Object(a["i"])("div",{class:Object(a["u"])({"w-full flex justify-center":j.onJoined})},[j.onJoined?(Object(a["y"])(),Object(a["i"])("div",o,[j.statusFound&&j.onJoined?(Object(a["y"])(),Object(a["g"])(g,{key:0,onTryAgain:p.goMain,onOnJoin:e[0]||(e[0]=function(t){return p.onJoinShare(t)}),data:j.dataInvite,class:"w-full smoothShow"},null,8,["onTryAgain","data"])):Object(a["h"])("",!0),!j.statusFound&&j.onJoined?(Object(a["y"])(),Object(a["g"])(m,{key:1,onTryAgain:p.goMain,class:"w-full smoothShow"},null,8,["onTryAgain"])):Object(a["h"])("",!0)])):Object(a["h"])("",!0),j.onJoined?Object(a["h"])("",!0):(Object(a["y"])(),Object(a["g"])(v,{key:1},{default:Object(a["P"])((function(){return[Object(a["j"])("div",i,[Object(a["j"])("div",r,[Object(a["n"])(O),Object(a["j"])("div",c,[Object(a["j"])("div",s,[u,j.validate.invite.status?(Object(a["y"])(),Object(a["i"])("p",l,Object(a["K"])(j.validate.invite.msg),1)):Object(a["h"])("",!0)]),Object(a["Q"])(Object(a["j"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return j.codeOrUrlInvite=t}),type:"text",placeholder:"www.brain_plz.com/share/########",class:"w-full py-3.5 px-5 rounded-lg bg-[#474747] focus:outline-sky-400",onKeypress:e[2]||(e[2]=Object(a["R"])((function(){return p.checkCodeInvite&&p.checkCodeInvite.apply(p,arguments)}),["enter"]))},null,544),[[a["M"],j.codeOrUrlInvite]])]),Object(a["j"])("div",d,[Object(a["n"])(h,{to:"/share/create"},{default:Object(a["P"])((function(){return[b]})),_:1}),Object(a["j"])("button",{onClick:e[3]||(e[3]=function(){return p.checkCodeInvite&&p.checkCodeInvite.apply(p,arguments)}),class:"font_baloo font-semibold tracking-wider bg-[#5C2D8A] hover:bg-[#502779] duration-200 rounded-xl text-sm"}," Join ")])])])]})),_:1})),Object(a["n"])(x,{position:"top-right",class:"Toast"})],2)}var j=n("1da1"),p=(n("99af"),n("96cf"),n("4360")),g=n("bc3a"),m=n.n(g),O=n("3a65"),h=(n("b0c0"),{key:0,class:"h-min text-white bg-[#2C2C2C] p-6 rounded-2xl"}),v=Object(a["l"])('<div class="flex flex-col md:flex-row gap-y-2 justify-between font_itim mb-4 ml-2 -mt-1.5"><p class="tracking-wider text-lg"> You are attending </p><div class="flex flex-row items-center md:mr-3 gap-2 text-sm"><div class="w-3 h-3 rounded-xl bg-[#9C403B]"></div><span>You</span><div class="w-3 h-3 rounded-xl bg-[#4e57a1]"></div><span>Anoter</span></div></div>',1),x={class:"w-full flex flex-col gap-y-2 text-sm"},w=["onClick"],y={class:"tracking-wider"},k={class:"tracking-wider"};function C(t,e,n,o,i,r){var c=Object(a["G"])("PopupAttending");return Object(a["y"])(),Object(a["i"])("div",null,[Object(a["n"])(c,{class:Object(a["u"])({hidden:!i.statusPopup}),data:i.dataPopup,onOnDelete:e[0]||(e[0]=function(t){return r.onDeleteAttending(t)}),onOnUnRegister:e[1]||(e[1]=function(t){return r.onUnregisterAttending(t)}),onOnClose:e[2]||(e[2]=function(t){return r.onClosePopup()})},null,8,["class","data"]),r.checkDataAttending()?(Object(a["y"])(),Object(a["i"])("div",h,[v,Object(a["j"])("div",x,[(Object(a["y"])(!0),Object(a["i"])(a["a"],null,Object(a["E"])(i.dataAttendings,(function(t){return Object(a["y"])(),Object(a["i"])("div",{key:t.code,class:Object(a["u"])(["w-full flex justify-between pt-3 pb-2 md:pt-3.5 md:pb-2.5 px-5 rounded-lg cursor-pointer duration-300 font_baloo",{"bg-[#9C403B] hover:bg-[#853733]":1==t.owner.status,"bg-[#474E90] hover:bg-[#3b417a]":1!=t.owner.status}]),onClick:function(e){return r.sendDataToPopup(t)}},[Object(a["j"])("p",y,Object(a["K"])(t.name),1),Object(a["j"])("p",k,Object(a["K"])(t.members.toLocaleString("th-TH")),1)],10,w)})),128))])])):Object(a["h"])("",!0)])}var A=n("b85c"),_=(n("d3b7"),{class:"fixed w-full h-screen top-0 left-0"}),D={class:"z-10 -mt-10 w-11/12 md:w-5/12 xl:w-3/12 bg-[#2C2C2C] text-white p-6 pt-7 rounded-lg absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},I={class:"relative font_baloo w-full text-center font-medium text-xl"},T={class:"mt-8 flex flex-col gap-4"},R={class:"font_itim gap-2 grid grid-cols-[3fr_4fr]"},J=Object(a["j"])("span",{class:"text-right"},"Code invite :",-1),P={class:"text-[#F3D014]"},U={class:"font_itim gap-2 grid grid-cols-[3fr_4fr]"},S=Object(a["j"])("span",{class:"text-right"},"Owner :",-1),G={class:"text-[#F3D014]"},E={class:"font_itim gap-2 grid grid-cols-[3fr_4fr]"},F=Object(a["j"])("span",{class:"text-right"},"Total members :",-1),K={class:"text-[#F3D014]"},L={class:"font_itim gap-2 grid grid-cols-[3fr_4fr]"},N=Object(a["j"])("span",{class:"text-right"},"Total activity :",-1),$={class:"text-[#F3D014]"},H={class:"mt-10 flex flex-row gap-2 text-sm select-none"};function M(t,e,n,o,i,r){var c=Object(a["G"])("ConfirmDialog");return Object(a["y"])(),Object(a["i"])("div",_,[Object(a["j"])("div",D,[Object(a["j"])("p",I," Detail attending of  “  "+Object(a["K"])(n.data.name)+"  ” ",1),Object(a["j"])("div",T,[Object(a["j"])("div",R,[J,Object(a["j"])("span",P,Object(a["K"])(n.data.code),1)]),Object(a["j"])("div",U,[S,Object(a["j"])("span",G,Object(a["K"])(n.data.owner.name),1)]),Object(a["j"])("div",E,[F,Object(a["j"])("span",K,Object(a["K"])(n.data.members.toLocaleString("th-TH")),1)]),Object(a["j"])("div",L,[N,Object(a["j"])("span",$,Object(a["K"])(n.data.activitys.toLocaleString("th-TH")),1)])]),Object(a["j"])("div",H,[n.data.owner.status?(Object(a["y"])(),Object(a["i"])("button",{key:0,onClick:e[0]||(e[0]=function(t){return r.onDestroy(1)}),class:"font_itim w-full rounded-lg py-2 bg-[#C14D46] hover:bg-[#a7403a]"}," DELETE THIS ")):Object(a["h"])("",!0),n.data.owner.status?Object(a["h"])("",!0):(Object(a["y"])(),Object(a["i"])("button",{key:1,onClick:e[1]||(e[1]=function(t){return r.onDestroy(2)}),class:"font_itim w-full rounded-lg py-2 bg-[#C14D46] hover:bg-[#a7403a]"}," UNREGISTER THIS ")),Object(a["j"])("button",{onClick:e[2]||(e[2]=function(t){return r.onClose()}),class:"font_itim w-full rounded-lg py-2 bg-[#2C73B4] hover:bg-[#2767a3]"}," CLOSE ")])]),Object(a["j"])("div",{onClick:e[3]||(e[3]=function(t){return r.onClose()}),class:"z-0 overlay w-full h-full bg-black opacity-30"}),Object(a["n"])(c,{position:"top"})])}var B=n("9383"),z={name:"PopupAttending",components:{ConfirmDialog:B["a"]},props:{data:{required:!0}},methods:{onClose:function(){this.$emit("onClose")},onEdit:function(){this.$emit("onEdit")},onDestroy:function(t){var e=this;this.$confirm.require({message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){switch(t){case 1:return e.$emit("onDelete",e.data),void e.onClose();case 2:return e.$emit("onUnRegister",e.data),void e.onClose()}},reject:function(){}})}},mounted:function(){}},q=n("6b0d"),Y=n.n(q);const Q=Y()(z,[["render",M]]);var V=Q,W={name:"AttendingList",components:{PopupAttending:V},setup:function(){Object(a["A"])("store",p["a"])},data:function(){return{statusPopup:!1,dataPopup:{code:"",name:"",members:0,owner:{status:0,name:""},activitys:0},dataAttendings:[]}},methods:{sendDataToPopup:function(t){this.statusPopup=!this.statusPopup,this.dataPopup=t},onClosePopup:function(){this.statusPopup=!this.statusPopup},checkDataAttending:function(){return this.dataAttendings.length>0},onUnregisterAttending:function(t){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("onUnregisterAttending working! = ",t),n.next=3,m.a.post("/api/share/unregister",{public_key:t.public_key}).then(function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p["a"].methods.getDataUserOnDb();case 2:return t.next=4,e.setDataToShow();case 4:console.log("onUnregisterAttending success = ",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log("onUnregisterAttending Failed = ",t)}));case 3:case"end":return n.stop()}}),n)})))()},setDataToShow:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n,a,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["a"].methods.getDataSharing();case 2:n=e.sent,t.dataAttendings=[],a=Object(A["a"])(n.sharings),e.prev=5,a.s();case 7:if((o=a.n()).done){e.next=30;break}if(i=o.value,!i){e.next=28;break}if(e.t0=t.dataAttendings,e.t1=i.public_key,e.t2=i.code,e.t3=i.name,e.t4=i.creator?0:1,!i.creator){e.next=19;break}e.t5=i.creator.name,e.next=22;break;case 19:return e.next=21,p["a"].methods.getDataUser().name;case 21:e.t5=e.sent;case 22:e.t6=e.t5,e.t7={status:e.t4,name:e.t6},e.t8=i.members.length,e.t9=i.activitys.length,e.t10={public_key:e.t1,code:e.t2,name:e.t3,owner:e.t7,members:e.t8,activitys:e.t9},e.t0.push.call(e.t0,e.t10);case 28:e.next=7;break;case 30:e.next=35;break;case 32:e.prev=32,e.t11=e["catch"](5),a.e(e.t11);case 35:return e.prev=35,a.f(),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[5,32,35,38]])})))()},onDeleteAttending:function(t){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,m.a.delete("/api/share/public_key=".concat(t.public_key)).then((function(t){200===t.status&&console.log(t.data)})).catch((function(t){console.log(t)})).finally((function(){e.setDataToShow()}));case 2:case"end":return n.stop()}}),n)})))()}},mounted:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.setDataToShow();case 2:document.onkeydown=function(e){e=e||window.event,27==e.keyCode&&(t.statusPopup=!1)};case 3:case"end":return e.stop()}}),e)})))()}};const X=Y()(W,[["render",C]]);var Z=X,tt={class:"flex flex-col p-6 bg-[#2C2C2C] border-2 border-[#a44aff] font_itim text-center rounded-2xl text-white"},et=Object(a["j"])("p",{class:"mb-11"}," JOIN SHARING GROUP ",-1),nt={class:"text-[#7FE376] text-[2.5rem]"},at={class:"text-sm"},ot={key:0,class:"text-[#55F2E9]"},it={class:"mt-2"},rt={class:"mt-12 text-sm"},ct=Object(a["j"])("button",{class:"font_baloo font-semibold tracking-wider bg-[#313964] hover:bg-[#2a3158] mt-2.5 w-full text-white duration-200 rounded-xl text-sm py-3"}," IGNORE ",-1);function st(t,e,n,o,i,r){var c=Object(a["G"])("router-link");return Object(a["y"])(),Object(a["i"])("div",null,[Object(a["j"])("div",tt,[et,Object(a["j"])("p",nt,Object(a["K"])(n.data.invite.name),1),Object(a["j"])("div",at,[n.data.invite.detail?(Object(a["y"])(),Object(a["i"])("p",ot," ' "+Object(a["K"])(n.data.invite.detail)+" ' ",1)):Object(a["h"])("",!0),Object(a["j"])("p",it,Object(a["K"])(r.countObject(n.data.invite.members))+" peoples joined. ",1)]),Object(a["j"])("p",rt,' Group sharing by " '+Object(a["K"])(n.data.creator.name)+' " ',1)]),Object(a["j"])("button",{onClick:e[0]||(e[0]=function(){return r.onJoin&&r.onJoin.apply(r,arguments)}),class:"font_baloo font-semibold tracking-wider bg-[#8932e0] hover:bg-[#792fc4] mt-4 w-full text-white duration-200 rounded-xl text-sm py-3"}," JOIN "),Object(a["n"])(c,{to:"/"},{default:Object(a["P"])((function(){return[ct]})),_:1})])}n("b64b");var ut={name:"JoinAttending",props:{data:{type:Object,required:!0}},methods:{countObject:function(t){return Object.keys(t).length},onJoin:function(){this.$emit("onJoin",{public_key:this.data.invite.public_key,creator:this.data.creator.id})}},mounted:function(){console.log(this.data)}};const lt=Y()(ut,[["render",st]]);var dt=lt,bt=Object(a["j"])("div",{class:"flex flex-col p-6 bg-[#2C2C2C] border-2 border-[#8A2D49] font_itim text-center rounded-2xl text-white"},[Object(a["j"])("p",{class:"text-[#E37676] text-[2.5rem]"}," NOT FOUND "),Object(a["j"])("p",{class:"mt-3 leading-10"},[Object(a["m"])(" The invitation code is not found or the invitation code has expired.   "),Object(a["j"])("br",{class:"hidden md:block"}),Object(a["m"])("Please check the code you received is correct or not. ")])],-1),ft=Object(a["j"])("button",{class:"font_baloo font-semibold tracking-wider bg-[#8A2D49] hover:bg-[#75263e] mt-4 w-full text-white duration-200 rounded-xl text-sm py-3"}," GOT IT  "+Object(a["K"])("&")+"  GO BACK TO HOME PAGE ",-1);function jt(t,e,n,o,i,r){var c=Object(a["G"])("router-link");return Object(a["y"])(),Object(a["i"])("div",null,[bt,Object(a["n"])(c,{to:"/"},{default:Object(a["P"])((function(){return[ft]})),_:1}),Object(a["j"])("button",{onClick:e[0]||(e[0]=function(){return r.tryAgain&&r.tryAgain.apply(r,arguments)}),class:"font_baloo font-semibold tracking-wider bg-[#313964] hover:bg-[#2a3158] mt-2.5 w-full text-white duration-200 rounded-xl text-sm py-3"}," TRY AGAIN ")])}var pt={name:"NotFoundInvite",methods:{tryAgain:function(){this.$emit("tryAgain")}}};const gt=Y()(pt,[["render",jt]]);var mt=gt,Ot=n("b3b6"),ht={name:"ShareAndJoin",components:{Layout:O["a"],AttendingList:Z,Toast:Ot["a"],AttendingJoin:dt,NotFoundInvite:mt},setup:function(){Object(a["A"])("store",p["a"])},data:function(){return{onJoined:!1,statusFound:!1,codeOrUrlInvite:null,dataInvite:null,validate:{invite:{msg:"",status:!1}}}},methods:{goMain:function(){this.onJoined=!1,this.codeOrUrlInvite=null},validateInput:function(){return""===this.codeOrUrlInvite||null===this.codeOrUrlInvite?(this.validate.invite.msg="Please enter the code or URL invite.",this.validate.invite.status=!0):(this.validate.invite.msg="",this.validate.invite.status=!1),!this.validate.invite.status},checkCodeInvite:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.validateInput()){e.next=3;break}return e.next=3,m.a.get("/api/share/find/invite/".concat(t.codeOrUrlInvite)).then((function(e){200===e.status&&(t.onJoined=!0,null!==e.data&&(t.statusFound=!0,t.dataInvite=e.data))})).catch((function(t){}));case 3:case"end":return e.stop()}}),e)})))()},onJoinShare:function(t){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,m.a.post("/api/share/join/".concat(t.public_key,"/").concat(t.creator)).then(function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(200!==n.status){t.next=12;break}if(!n.data.statusJoin){t.next=11;break}return e.$toast.add({severity:"success",summary:"Join attending success",detail:"",life:1300}),e.codeOrUrlInvite=null,setTimeout((function(){e.onJoined=!1}),600),t.next=7,p["a"].methods.getDataUserOnDb();case 7:return t.next=9,p["a"].methods.getDataSharing();case 9:t.next=12;break;case 11:e.$toast.add({severity:"warn",summary:n.data.msg+".",detail:"",life:2e3});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.onJoined=!1}));case 2:case"end":return n.stop()}}),n)})))()}},mounted:function(){return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:document.title="Share | BrainPlz";case 1:case"end":return t.stop()}}),t)})))()}};const vt=Y()(ht,[["render",f]]);e["default"]=vt},"99af":function(t,e,n){"use strict";var a=n("23e7"),o=n("da84"),i=n("d039"),r=n("e8b5"),c=n("861d"),s=n("7b0b"),u=n("07fa"),l=n("8418"),d=n("65f0"),b=n("1dde"),f=n("b622"),j=n("2d00"),p=f("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",O=o.TypeError,h=j>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),v=b("concat"),x=function(t){if(!c(t))return!1;var e=t[p];return void 0!==e?!!e:r(t)},w=!h||!v;a({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,a,o,i,r=s(this),c=d(r,0),b=0;for(e=-1,a=arguments.length;e<a;e++)if(i=-1===e?r:arguments[e],x(i)){if(o=u(i),b+o>g)throw O(m);for(n=0;n<o;n++,b++)n in i&&l(c,b,i[n])}else{if(b>=g)throw O(m);l(c,b++,i)}return c.length=b,c}})},b64b:function(t,e,n){var a=n("23e7"),o=n("7b0b"),i=n("df75"),r=n("d039"),c=r((function(){i(1)}));a({target:"Object",stat:!0,forced:c},{keys:function(t){return i(o(t))}})}}]);
//# sourceMappingURL=chunk-082e2e02.e4bde767.js.map